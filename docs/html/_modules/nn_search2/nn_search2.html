<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nn_search2.nn_search2 &mdash; nn_search2 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="nn_search2 2.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>nn_search2 2.0.0 documentation</span></a></h1>
        <h2 class="heading"><span>nn_search2.nn_search2</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <h1>Source code for nn_search2.nn_search2</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python2</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Fri Nov 06 20:00:00 2015</span>
<span class="sd">@author: tastyminerals@gmail.com</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">threading</span> <span class="kn">as</span> <span class="nn">thr</span>
<span class="kn">import</span> <span class="nn">multiprocessing</span> <span class="kn">as</span> <span class="nn">mproc</span>
<span class="kn">import</span> <span class="nn">ttk</span>
<span class="kn">import</span> <span class="nn">Tkinter</span> <span class="kn">as</span> <span class="nn">tk</span>
<span class="kn">import</span> <span class="nn">tkFileDialog</span> <span class="kn">as</span> <span class="nn">tkf</span>
<span class="kn">import</span> <span class="nn">tkMessageBox</span>
<span class="kn">import</span> <span class="nn">Queue</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">punctuation</span> <span class="k">as</span> <span class="n">punct</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageTk</span> <span class="k">as</span> <span class="n">itk</span>

<span class="kn">import</span> <span class="nn">model</span>
<span class="kn">import</span> <span class="nn">query</span>
<span class="kn">import</span> <span class="nn">pos_tagger</span>


<span class="c1"># Set interface fonts</span>
<span class="c1"># Helvetica, Times, Arial, Georgia, Tahoma, Verdana</span>
<span class="n">TKFONT</span> <span class="o">=</span> <span class="s1">&#39;TkDefaultFont 10&#39;</span>
<span class="n">TKTEXT_FONT</span> <span class="o">=</span> <span class="s1">&#39;Sans 10&#39;</span>

<span class="c1"># remove the underscore from punctuation var</span>
<span class="n">PUNCT</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">punct</span><span class="p">)</span>


<div class="viewcode-block" id="set_win_icon"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.set_win_icon">[docs]</a><span class="k">def</span> <span class="nf">set_win_icon</span><span class="p">(</span><span class="n">window</span><span class="p">,</span> <span class="n">icon_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set a custom icon for a given window.&quot;&quot;&quot;</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="n">icon_path</span><span class="p">)</span>
    <span class="n">window</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconphoto&#39;</span><span class="p">,</span> <span class="n">window</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span></div>


<div class="viewcode-block" id="fnode"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.fnode">[docs]</a><span class="k">def</span> <span class="nf">fnode</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert re matches into Tkinter format&quot;&quot;&quot;</span>
    <span class="n">start_mark</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span>
    <span class="n">end_mark</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">])])</span>
    <span class="k">return</span> <span class="n">start_mark</span><span class="p">,</span> <span class="n">end_mark</span></div>


<div class="viewcode-block" id="handle_punct"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.handle_punct">[docs]</a><span class="k">def</span> <span class="nf">handle_punct</span><span class="p">(</span><span class="n">matched_str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Do no add \b if the token starts or ends with a punctuation sign.</span>
<span class="sd">    Also escape any sensitive punctuation.</span>

<span class="sd">    &lt;Obviously, this will not protect from incorrect highlighting in all cases,</span>
<span class="sd">    but it will reduce them significantly.&gt;</span>

<span class="sd">    Args:</span>
<span class="sd">        *matched_str* (str) -- string matched by a query</span>

<span class="sd">    Returns:</span>
<span class="sd">        (str) -- with sensitive punctuation removed</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># handle sensitive punctuation</span>
    <span class="n">esc_matched</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">matched_str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">PUNCT</span><span class="p">:</span>
            <span class="n">esc_matched</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="o">+</span><span class="n">char</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">esc_matched</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
    <span class="n">matched_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">esc_matched</span><span class="p">)</span>
    <span class="c1"># handle word boundaries</span>
    <span class="k">if</span> <span class="n">matched_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">PUNCT</span> <span class="ow">or</span> <span class="n">matched_str</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">PUNCT</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">matched_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">r&#39;\b&#39;</span> <span class="o">+</span> <span class="n">matched_str</span> <span class="o">+</span> <span class="s1">r&#39;\b&#39;</span></div>


<div class="viewcode-block" id="NNSearch"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch">[docs]</a><span class="k">class</span> <span class="nc">NNSearch</span><span class="p">(</span><span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;UI class that handles all user interactions.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># user query</span>
        <span class="c1"># stats vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fully_tagged_sents</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># fully POS-tagged sents dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_ready</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># used not to recalc stats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_ready</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># used not to recalc graphs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_ready</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># do not recalc search stats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># processing threads</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># clicked &#39;Process!&#39; button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_thread</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_thread</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_thread</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_thread</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="c1"># text and file vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loaded_text</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_fname</span> <span class="o">=</span> <span class="s1">&#39;text_field&#39;</span>  <span class="c1"># currently processed file</span>
        <span class="c1"># results vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_results</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matches</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1_text_pos</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2_text_pos</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view3_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view3_text_pos</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># right label headers for Number stats pop-up window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_rlabl</span> <span class="o">=</span> <span class="s1">&#39;{0}</span><span class="se">\n</span><span class="s1">{1}</span><span class="se">\n</span><span class="s1">{2}</span><span class="se">\n</span><span class="s1">---------</span><span class="se">\n</span><span class="s1">{3}</span><span class="se">\n</span><span class="s1">{4}</span><span class="se">\n</span><span class="s1">{5}</span><span class="se">\n</span><span class="s1">{6}&#39;</span>
        <span class="c1"># right label headers for search stats pop-up window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ss_rlabl</span> <span class="o">=</span> <span class="s1">&#39;{0}</span><span class="se">\n</span><span class="s1">{1}</span><span class="se">\n</span><span class="s1">{2}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="c1"># pos-tagger vars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_fpath</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_loaded_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_out_dir_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># build UI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clean_up</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>
        <span class="c1"># resizing main UI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">master</span><span class="o">.</span><span class="n">minsize</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_build_gui</span><span class="p">()</span>
        <span class="c1"># read Penn Treebank tags description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">short_treebank</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">longer_treebank</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_penn_treebank</span><span class="p">()</span>

<div class="viewcode-block" id="NNSearch.press_return"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.press_return">[docs]</a>    <span class="k">def</span> <span class="nf">press_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Trigger query processing when &lt;Enter&gt; or &quot;Search&quot; button is pressed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># handle exceptions</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()</span> <span class="ow">or</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;Please click &quot;Process!&quot; button&#39;</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()</span> <span class="ow">and</span>
                                     <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;No data provided!&#39;</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># print self.fully_tagged_sents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># get query from entry widget</span>
        <span class="c1"># self.Entry.delete(0, &#39;end&#39;)  # removes query from entry widget</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">preprocess_query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">short_treebank</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">valid</span> <span class="ow">and</span> <span class="n">valid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Incorrect query syntax in: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">valid</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">valid</span> <span class="ow">and</span> <span class="n">valid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Incorrect POS-tag used: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">valid</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># find query matches</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">find_matches</span><span class="p">(</span><span class="n">valid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fully_tagged_sents</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matches</span> <span class="o">=</span> <span class="n">matches</span>
        <span class="n">pos</span><span class="p">,</span> <span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_opts</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">matches</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">matches</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">m</span><span class="p">]):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;No matches found </span><span class="se">\n</span><span class="s1"> revise you query&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;sad.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># if POS-tags selected, add POS-tags to text</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">and</span> <span class="n">pos</span> <span class="ow">and</span> <span class="n">view</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_delete</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view1</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlighter</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pos</span> <span class="ow">and</span> <span class="n">view</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_delete</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view1</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlighter</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">and</span> <span class="n">view</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_delete</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view2</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlighter</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="ow">and</span> <span class="n">view</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_delete</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view3</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlighter</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">matches</span><span class="p">:</span>
            <span class="c1"># prepare results and add pos-tags to results</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view1</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view2</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_view3</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="c1"># reset search stats</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_search_stats_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="c1"># insert the results</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlighter</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span></div>


<div class="viewcode-block" id="NNSearch.ctrl_a"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_a">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Select all in entry or text widget.</span>
<span class="sd">        Overwrite tkinter default &#39;ctrl+/&#39; keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># checking which text widget has focus</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_add</span><span class="p">(</span><span class="s1">&#39;sel&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;break&#39;</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_c"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_c">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Copy selected text.</span>
<span class="sd">        Overwrite tkinter default keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># checking which text widget has focus</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clipboard_clear</span><span class="p">()</span>
                <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">SEL_LAST</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clipboard_append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clipboard_clear</span><span class="p">()</span>
                <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">SEL_LAST</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clipboard_append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;break&#39;</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">print</span> <span class="s1">&#39;Nothing to copy.&#39;</span>
        <span class="k">return</span> <span class="s1">&#39;break&#39;</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_d"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_d">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete character.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">SEL_LAST</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">SEL_FIRST</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">SEL_LAST</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;break&#39;</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_s"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_s">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_s</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save text in the Entry widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;break&#39;</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_x"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_x">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cut selected text.</span>
<span class="sd">        Overwrite tkinter keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># checking which text widget has focus</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_c</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_d</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_c</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_d</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;break&#39;</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_v"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_v">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_v</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Paste copied text.</span>
<span class="sd">        Overwrite tkinter default keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># checking which text widget has focus</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">INSERT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">clipboard_get</span><span class="p">())</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">INSERT</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">clipboard_get</span><span class="p">())</span>
            <span class="k">return</span> <span class="s1">&#39;break&#39;</span>
        <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;nn-search 2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;Nothing to paste.&#39;</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_z"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_z">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Undo the last modification in the text widget.</span>
<span class="sd">        Overwrite tkinter default keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># checking which text widget has focus</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">edit_undo</span><span class="p">()</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_undo</span><span class="p">()</span>
            <span class="k">return</span> <span class="s1">&#39;break&#39;</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;nn-search 2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;Nothing to undo.&#39;</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_u"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_u">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_u</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Undo the last modification in the text widget.</span>
<span class="sd">        Overwrite tkinter default keybind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># checking which text widget has focus</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">edit_redo</span><span class="p">()</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_redo</span><span class="p">()</span>
            <span class="k">return</span> <span class="s1">&#39;break&#39;</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;nn-search 2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;Nothing to redo.&#39;</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="NNSearch.ctrl_r"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.ctrl_r">[docs]</a>    <span class="k">def</span> <span class="nf">ctrl_r</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run Process if hit Ctrl+r&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># checking which text widget has focus</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">process_command</span><span class="p">()</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">focus_get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">process_command</span><span class="p">()</span>
            <span class="k">return</span> <span class="s1">&#39;break&#39;</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">tkMessageBox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;nn-search 2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;Can not run &quot;Process&quot;.&#39;</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="NNSearch.insert_text"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.insert_text">[docs]</a>    <span class="k">def</span> <span class="nf">insert_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">plain</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Insert given text into the Text widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            | *text* -- text to be inserted</span>
<span class="sd">            | *plain* -- if True no preprocessing for paragraphs is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">para</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">par</span> <span class="ow">in</span> <span class="n">para</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">,</span> <span class="n">par</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.pos_tagger_load_file"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.pos_tagger_load_file">[docs]</a>    <span class="k">def</span> <span class="nf">pos_tagger_load_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a file specified by the user in pos-tagger tool.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;txt file&quot;</span><span class="p">,</span> <span class="s2">&quot;*.txt&quot;</span><span class="p">),</span>
                 <span class="p">(</span><span class="s2">&quot;Microsoft Word file&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;*.doc&quot;</span><span class="p">,</span> <span class="s2">&quot;*.docx&quot;</span><span class="p">)),</span>
                 <span class="p">(</span><span class="s2">&quot;PDF file&quot;</span><span class="p">,</span> <span class="s2">&quot;*.pdf&quot;</span><span class="p">),</span>
                 <span class="p">(</span><span class="s2">&quot;All files&quot;</span><span class="p">,</span> <span class="s2">&quot;*.*&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_fpath</span> <span class="o">=</span> <span class="n">tkf</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">filetypes</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">loaded_text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">read_input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_fpath</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>  <span class="c1"># when clicked Load and didn&#39;t choose any file</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">IOError</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can not open the specified file!&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_loaded_text</span> <span class="o">=</span> <span class="n">loaded_text</span>
        <span class="c1"># lock input file button of pos-tagger</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="c1"># unlock Process and Stop buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stop_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># update icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon1</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;set.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_labl</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span>
                                       <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_labl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.load_input_dir"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.load_input_dir">[docs]</a>    <span class="k">def</span> <span class="nf">load_input_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a directory specified by the user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span> <span class="o">=</span> <span class="n">tkf</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">()</span>
        <span class="c1"># lock input file button of pos-tagger</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="c1"># unlock Process and Stop buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stop_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_out_dir_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_loaded_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># update icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon2</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;set.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_labl</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span>
                                      <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.load_output_dir"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.load_output_dir">[docs]</a>    <span class="k">def</span> <span class="nf">load_output_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a directory specified by the user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_out_dir_path</span> <span class="o">=</span> <span class="n">tkf</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">()</span>
        <span class="c1"># update icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon3</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;set.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_outdir_labl</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span>
                                       <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.check_pos_tagger_save_results"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.check_pos_tagger_save_results">[docs]</a>    <span class="k">def</span> <span class="nf">check_pos_tagger_save_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checking if the thread is alive and informing the user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_pos_tagger_save_results</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">exitcode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_runic</span><span class="p">,</span>
                                     <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;POS-tagging terminated!&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;thunder.png&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_runic</span><span class="p">,</span>
                                     <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;POS-tagging complete!</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                  <span class="s1">&#39;Check the results in the &quot;output&quot; directory</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                  <span class="s1">&#39;or the directory you specified.&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;pos_done.png&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.kill_pos_proc"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.kill_pos_proc">[docs]</a>    <span class="k">def</span> <span class="nf">kill_pos_proc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kill spawned pos-tagger process.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_runic</span><span class="p">,</span>
                         <span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.pos_tagger_run"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.pos_tagger_run">[docs]</a>    <span class="k">def</span> <span class="nf">pos_tagger_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run pos-tagger on the specified files.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">out_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_out_dir_path</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thunder</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;thunder.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Working...&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thunder</span><span class="p">,</span>
                                 <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_loaded_text</span><span class="p">:</span>
            <span class="n">in_file_data</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_fpath</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_loaded_text</span><span class="p">}</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="n">in_file_data</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">out_dir</span><span class="p">]</span>
            <span class="c1"># spawn a new process</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span> <span class="o">=</span> <span class="n">mproc</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">pos_tagger</span><span class="o">.</span><span class="n">main</span><span class="p">,</span>
                                                 <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="bp">True</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_pos_tagger_save_results</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span> <span class="k">for</span> <span class="n">fname</span>
                     <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_dir_path</span><span class="p">)]</span>
            <span class="n">in_dir_data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">text_file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">text_file</span><span class="p">)</span>
                <span class="n">loaded_text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">read_input_file</span><span class="p">(</span><span class="n">text_file</span><span class="p">)</span>
                <span class="n">in_dir_data</span><span class="p">[</span><span class="n">fname</span><span class="p">]</span> <span class="o">=</span> <span class="n">loaded_text</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">in_dir_data</span><span class="p">,</span> <span class="n">out_dir</span><span class="p">]</span>
            <span class="c1"># spawn a new process</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span> <span class="o">=</span> <span class="n">mproc</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">pos_tagger</span><span class="o">.</span><span class="n">main</span><span class="p">,</span>
                                                 <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="bp">True</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_proc</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="c1"># lock and change Process button</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_pos_tagger_save_results</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.pos_tagger_win"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.pos_tagger_win">[docs]</a>    <span class="k">def</span> <span class="nf">pos_tagger_win</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display a pos-tagger window.</span>
<span class="sd">        Implement pos-tagger using TextBlob&#39;s averaged perceptron.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;POS-tagger&#39;</span><span class="p">)</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;wand.png&#39;</span><span class="p">))</span>
        <span class="c1"># self.tagger_win.lift()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">pos_taggerFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                 <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pos_taggerFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># add a header</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Standalone POS-tagger&#39;</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pos_taggerFr</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">pos_taggerFrInn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pos_taggerFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pos_taggerFrInn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ifile</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;input_file.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                                          <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ifile</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Input file&#39;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_load_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># input file label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon1</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;unset.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_labl</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span>
                                         <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon1</span><span class="p">,</span>
                                         <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                         <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Not set&#39;</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_infile_labl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="c1"># input file Button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idir</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;input_dir.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                                         <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                         <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">idir</span><span class="p">,</span>
                                         <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Input directory&#39;</span><span class="p">,</span>
                                         <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_input_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># input dir label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon2</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;unset.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_labl</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span>
                                        <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon2</span><span class="p">,</span>
                                        <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                        <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Not set&#39;</span><span class="p">,</span>
                                        <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_indir_labl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="c1"># output dir Button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">odir</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;out_dir.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_outdir_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                                          <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">odir</span><span class="p">,</span>
                                          <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Output directory&#39;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_output_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_outdir_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># output dir label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_icon3</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;unset.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_outdir_labl</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pos_taggerFrInn0</span><span class="p">,</span>
                                         <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_icon3</span><span class="p">,</span>
                                         <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                         <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Not set&#39;</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_outdir_labl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>

        <span class="c1"># Process button</span>
        <span class="n">pos_taggerFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pos_taggerFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pos_taggerFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_runic</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;run_tagger.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFrInn1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                                       <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                       <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_runic</span><span class="p">,</span>
                                       <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process&#39;</span><span class="p">,</span>
                                       <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_run_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="c1"># Stop button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stopic</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stop_tagger.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stop_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFrInn1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                                        <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                        <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_stopic</span><span class="p">,</span>
                                        <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Stop&#39;</span><span class="p">,</span>
                                        <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kill_pos_proc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stop_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_stop_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="c1"># Close button</span>
        <span class="n">pos_taggerFrInn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pos_taggerFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                                     <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">pos_taggerFrInn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pos_taggerFr</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                                   <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tagger_win</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.centrify_widget"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.centrify_widget">[docs]</a>    <span class="k">def</span> <span class="nf">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Centrify the position of a given widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            *widget* (tk.Widget) -- tk widget object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">winfo_screenheight</span><span class="p">()</span>
        <span class="n">xy</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>
        <span class="n">xpos</span> <span class="o">=</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">ypos</span> <span class="o">=</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">x</span><span class="si">%d</span><span class="s2">+</span><span class="si">%d</span><span class="s2">+</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">xy</span> <span class="o">+</span> <span class="p">(</span><span class="n">xpos</span><span class="p">,</span> <span class="n">ypos</span><span class="p">)))</span></div>

<div class="viewcode-block" id="NNSearch.show_message"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.show_message">[docs]</a>    <span class="k">def</span> <span class="nf">show_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">icon</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show a warning window with a given message.</span>

<span class="sd">        Args:</span>
<span class="sd">            | *msg* (str) -- a message to display</span>
<span class="sd">            | *icon* (str) -- icon name</span>
<span class="sd">            | *top* (bool) -- make message window on top</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;warning.png&#39;</span><span class="p">))</span>
        <span class="n">message</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Warning!&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">top</span><span class="p">:</span>
            <span class="n">message</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">message</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">warnFr0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">warnFr0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">warnFr1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">warnFr0</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">warnFr1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">warnFr1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 12&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err_img</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="n">icon</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">warnFr1</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">err_img</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">warnFr0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span>
                   <span class="n">command</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">destroy</span><span class="p">,</span> <span class="n">takefocus</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.save_data"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.save_data">[docs]</a>    <span class="k">def</span> <span class="nf">save_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save Text widget contents</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;txt file&quot;</span><span class="p">,</span> <span class="s2">&quot;*.txt&quot;</span><span class="p">),</span>
                 <span class="p">(</span><span class="s2">&quot;All files&quot;</span><span class="p">,</span> <span class="s2">&quot;*.*&quot;</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">opened_file</span> <span class="o">=</span> <span class="n">tkf</span><span class="o">.</span><span class="n">asksaveasfile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">filetypes</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Can not open the specified file!&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
            <span class="n">opened_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Can not write the specified file!</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> \
                  <span class="s1">&#39;Make sure there is enough free space on disk&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="NNSearch.load_data"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.load_data">[docs]</a>    <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a file dialog window.</span>
<span class="sd">        Load a file. Handle file loading errors accordingly.</span>
<span class="sd">        Invoke data preprocessing and pos-tagging functions.</span>

<span class="sd">        &lt;I think it is better to do main text processing together with the</span>
<span class="sd">        file loading operation. This reduces query search response time.&gt;</span>

<span class="sd">        Returns:</span>
<span class="sd">            | *loaded_text* (str) -- preprocessed text</span>
<span class="sd">            | if IOError, OSError return None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;txt file&quot;</span><span class="p">,</span> <span class="s2">&quot;*.txt&quot;</span><span class="p">),</span>
                 <span class="p">(</span><span class="s2">&quot;Microsoft Word file&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;*.doc&quot;</span><span class="p">,</span> <span class="s2">&quot;*.docx&quot;</span><span class="p">)),</span>
                 <span class="p">(</span><span class="s2">&quot;PDF file&quot;</span><span class="p">,</span> <span class="s2">&quot;*.pdf&quot;</span><span class="p">),</span>
                 <span class="p">(</span><span class="s2">&quot;All files&quot;</span><span class="p">,</span> <span class="s2">&quot;*.*&quot;</span><span class="p">))</span>
        <span class="n">fpath</span> <span class="o">=</span> <span class="n">tkf</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">filetypes</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># limit the file size to 10 mb</span>
            <span class="n">fsize</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fsize</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s2">&quot;The file is too big!&quot;</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loaded_text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">read_input_file</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
            <span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
                <span class="n">fname</span> <span class="o">=</span> <span class="n">fname</span><span class="p">[:</span><span class="mi">17</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;...&#39;</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>  <span class="c1"># when clicked Load and didn&#39;t choose any file</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">IOError</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can not open the specified file!&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># update the file stats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">fname</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_file_loaded</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats0</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Name: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Size: {0}kb&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">fsize</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
        <span class="c1"># insert read text into Text widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loaded_text</span><span class="p">)</span>
        <span class="c1"># reset text statistics after we loaded a new file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_stats_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_graphs_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.check_process_thread_save_results"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.check_process_thread_save_results">[docs]</a>    <span class="k">def</span> <span class="nf">check_process_thread_save_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check every 10ms if model thread is alive.</span>
<span class="sd">        Destroy progress bar when model thread finishes.</span>
<span class="sd">        Unlock UI widgets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_process_thread_save_results</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">process_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="c1"># get the results of model processing</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fully_tagged_sents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_ui</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.run_progressbar"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.run_progressbar">[docs]</a>    <span class="k">def</span> <span class="nf">run_progressbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run progress bar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;proc.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># keep window topmost</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Processing&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Exercise some patience...&quot;</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progFr</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prog_img</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;cup.png&#39;</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progFr</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prog_img</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progFr</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">,</span>
                                            <span class="n">length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                                            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;indeterminate&#39;</span><span class="p">,</span>
                                            <span class="n">takefocus</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prog_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="NNSearch.process_command"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.process_command">[docs]</a>    <span class="k">def</span> <span class="nf">process_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Start the indeterminate progress bar.</span>
<span class="sd">        Lock UI widgets.</span>
<span class="sd">        Process text loaded into Text widget.</span>
<span class="sd">        &lt;Some UI widgets are connected to this function. The purpose of this</span>
<span class="sd">        function is to display a progress bar while running model functions in</span>
<span class="sd">        a separate thread&gt;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if Text modified, update Name and Size</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span><span class="p">:</span>
            <span class="c1"># update the file stats</span>
            <span class="n">loaded_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span> <span class="s1">&#39;end-1c&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats0</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Name: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Text field&#39;</span><span class="p">))</span>
            <span class="n">acc_size</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">loaded_text</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Size: {0}kb&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">acc_size</span><span class="p">))</span>
            <span class="c1"># reset Text precaching</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;No data provided!&#39;</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_processed</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lock_ui</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_progressbar</span><span class="p">()</span>
        <span class="c1"># now handle the Process button command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_thread</span> <span class="o">=</span> <span class="n">thr</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">process_text</span><span class="p">,</span>
                                         <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="p">,</span> <span class="n">loaded_text</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="c1"># check if model_thread finished</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_process_thread_save_results</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_processed</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_stats_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_graphs_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_search_stats_ready</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.check_nums_thread_save_results"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.check_nums_thread_save_results">[docs]</a>    <span class="k">def</span> <span class="nf">check_nums_thread_save_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check every 50ms if model thread is alive.</span>
<span class="sd">        While displaying waiting label in Toplevel.</span>
<span class="sd">        Unlock UI widgets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win_butt</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stats_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_nums_thread_save_results</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="c1"># get the results of model processing</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="c1"># centering window position</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Statistics&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c1"># update the information to calculated stats</span>
            <span class="n">stats_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_rlabl</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;words&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sents&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;diversity&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;subj&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;polar&#39;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;corr&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_stats_ready</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win_butt</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rtext</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">stats_text</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.show_nums_win"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.show_nums_win">[docs]</a>    <span class="k">def</span> <span class="nf">show_nums_win</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new TopLevel window.</span>
<span class="sd">        Calculate text stats and insert them as Label widgets.</span>
<span class="sd">        Add &quot;Close&quot; button. Check if we already calculated stats, if yes then</span>
<span class="sd">        reuse instead of recalculating.</span>

<span class="sd">        &lt;Numbers stats calculation is done in a separate Thread in order to</span>
<span class="sd">        leave UI responsive. This, however, makes the code that handles</span>
<span class="sd">        Numbers pop-up window look ugly and confusing.</span>
<span class="sd">        show_nums_win() invokes self.check_nums_thread_save_results() which</span>
<span class="sd">        checks whenever Thread is done, updates the Numbers pop-up window&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">stats_ready</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">()</span>
            <span class="c1"># now handle the Process button command</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_thread</span> <span class="o">=</span> <span class="n">thr</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">get_stats</span><span class="p">,</span>
                                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="p">,</span>
                                                 <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">stats</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">,</span> <span class="s1">&#39;words&#39;</span><span class="p">,</span> <span class="s1">&#39;sents&#39;</span><span class="p">,</span> <span class="s1">&#39;diversity&#39;</span><span class="p">,</span> <span class="s1">&#39;subj&#39;</span><span class="p">,</span> <span class="s1">&#39;polar&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;corr&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">stat</span><span class="p">,</span> <span class="s1">&#39;Wait...&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">stats</span><span class="p">)</span>
            <span class="c1"># check if model_thread finished</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_nums_thread_save_results</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span> <span class="ow">or</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;Please click &quot;Process!&quot; button&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span> <span class="ow">or</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;No data provided!&#39;</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># update the information to calculated stats</span>
        <span class="n">stats_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_rlabl</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;words&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sents&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;diversity&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;subj&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;polar&#39;</span><span class="p">),</span>
                                           <span class="bp">self</span><span class="o">.</span><span class="n">textstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;corr&#39;</span><span class="p">))</span>
        <span class="c1"># create a pop-up window, use self instances, we need to update them</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats.png&#39;</span><span class="p">))</span>
        <span class="c1"># centering window position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Statistics&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                 <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFr</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="n">num_llabl</span> <span class="o">=</span> <span class="s1">&#39;Tokens count:</span><span class="se">\n</span><span class="s1">Words count:</span><span class="se">\n</span><span class="s1">Sentences count: </span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                    <span class="s1">&#39;-------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                    <span class="s1">&#39;Lexical diversity [0,1]:</span><span class="se">\n</span><span class="s1">Subjectivity [0,1]: </span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                    <span class="s1">&#39;Polarity [-1,1]: </span><span class="se">\n</span><span class="s1">Correctness [0,1]: </span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltext</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                               <span class="n">text</span><span class="o">=</span><span class="n">num_llabl</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ltext</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rtext</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statsFrInn2</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                               <span class="n">text</span><span class="o">=</span><span class="n">stats_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rtext</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_win_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statsFr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                                         <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                         <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_win_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_win</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.pos_tags_long"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.pos_tags_long">[docs]</a>    <span class="k">def</span> <span class="nf">pos_tags_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read short pos-tags description and build a Toplevel window.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_tags_help</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">longer_treebank</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.pos_tags_short"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.pos_tags_short">[docs]</a>    <span class="k">def</span> <span class="nf">pos_tags_short</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read long pos-tags description and build a Toplevel window.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tags_help</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">short_treebank</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_tags_help</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">postags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show a pop-up window with POS-tag descriptions.</span>

<span class="sd">        Args:</span>
<span class="sd">            *postags* (list) -- POS-tag descriptions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ids</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">desc</span> <span class="o">=</span> <span class="n">postags</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tags</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">penn_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="n">penn_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;info.png&#39;</span><span class="p">))</span>
        <span class="n">penn_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Penn Treebank POS-tags&#39;</span><span class="p">)</span>
        <span class="n">penn_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1"># creating Frames for headers</span>
        <span class="n">pennFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">penn_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pennFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">pennFrInnHead0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">pennFrInnHead0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">pennFrInnHead1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">pennFrInnHead1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">pennFrInnHead2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">pennFrInnHead2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># creating Frames for ids, tags and desc</span>
        <span class="n">pennFrInn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pennFrInn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">pennFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pennFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">pennFrInn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">pennFrInn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c1"># inserting Labels</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInnHead0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">header</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInnHead1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">header</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInnHead2</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">header</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInn0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ids</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">pennFrInn2</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desc</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="c1"># create Close button</span>
        <span class="n">penn_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">pennFr</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="n">penn_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="n">penn_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="n">penn_win</span><span class="p">)</span>

<div class="viewcode-block" id="NNSearch.check_graphs_thread_save_results"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.check_graphs_thread_save_results">[docs]</a>    <span class="k">def</span> <span class="nf">check_graphs_thread_save_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check every 100ms if model thread is alive.</span>
<span class="sd">        While displaying waiting label in Toplevel.</span>
<span class="sd">        Unlock UI widgets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphs_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_graphs_thread_save_results</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="c1"># get the results of model processing</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">srt_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ngrams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_graphs_ready</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="c1"># remove &quot;Wait&quot; message</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">waitFr</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">finish_graphs_window</span><span class="p">()</span></div>

<div class="viewcode-block" id="NNSearch.finish_graphs_window"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.finish_graphs_window">[docs]</a>    <span class="k">def</span> <span class="nf">finish_graphs_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finish building Graphs window when the results are ready.</span>
<span class="sd">        &lt;Plotting, word/ngrams calculation etc. takes time. We first show</span>
<span class="sd">        &#39;Wait...&#39; Toplevel window and then fill it with the elements&gt;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create Frames for Toplevel window</span>
        <span class="n">graphFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFr0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFrInn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr0</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFr1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFrInn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># graphFr2 will contain two inner Frames for pie charts and ngram cnts</span>
        <span class="n">graphFr2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFrInn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr2</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr2</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ngramsFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFrInn0</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramsFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nsew&quot;</span><span class="p">)</span>
        <span class="c1"># add buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_img</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;info.png&#39;</span><span class="p">))</span>
        <span class="n">tag_help</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">graphFr0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                              <span class="n">text</span><span class="o">=</span><span class="s1">&#39;POS-tags help&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_img</span><span class="p">,</span>
                              <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_tags_short</span><span class="p">)</span>
        <span class="n">tag_help</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="c1"># add Close button</span>
        <span class="n">close_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">graphFr</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                                <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="n">close_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="c1"># extract POS-tags, occurences, calculate ratio</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tgs</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">srt_tags</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tgs_cnts</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">srt_tags</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="n">total_cnt</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">srt_tags</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ratios</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">v</span><span class="o">/</span><span class="n">total_cnt</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span> <span class="k">for</span> <span class="n">v</span>
                                   <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">srt_tags</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="c1"># create two inner Frames, one for POS-tags, another for counts</span>
        <span class="n">graphFr0Inn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr0Inn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr0Inn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFr0Inn</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">graphFr0Inn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># insert POS-tags, counts and ratios</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFr0Inn0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tgs</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFr0Inn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tgs_cnts</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFr0Inn2</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ratios</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="c1"># insert POS-tags plot</span>
        <span class="n">plot1_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;_graphs&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_fname</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">plot1_path</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">550</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span> <span class="n">itk</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot1</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
        <span class="c1"># self.plot1 = itk.PhotoImage(file=plot_path)</span>
        <span class="n">plot1Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFr1</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">plot1</span><span class="p">)</span>
        <span class="n">plot1Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nsew&quot;</span><span class="p">)</span>
        <span class="c1"># insert functional/content words pie chart</span>
        <span class="n">pie_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;_graphs&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_fname</span> <span class="o">+</span> <span class="s1">&#39;_pie.png&#39;</span><span class="p">)</span>
        <span class="n">pie_image</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">pie_path</span><span class="p">)</span>
        <span class="n">pie_image</span> <span class="o">=</span> <span class="n">pie_image</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="n">itk</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pie_plot</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">pie_image</span><span class="p">)</span>
        <span class="n">pie_header</span> <span class="o">=</span> <span class="s2">&quot;Functional vs content words ratio&quot;</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFrInn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">pie_header</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">plot2Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">graphFrInn1</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pie_plot</span><span class="p">)</span>
        <span class="n">plot2Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nsew&quot;</span><span class="p">)</span>
        <span class="c1"># insert ngrams stats</span>
        <span class="n">top5</span><span class="p">,</span> <span class="n">top5_cnts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[[</span><span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
                                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngrams</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">top5</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">top5</span><span class="p">)</span>
        <span class="n">top5_cnts</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">top5_cnts</span><span class="p">)</span>
        <span class="n">ngram2</span><span class="p">,</span> <span class="n">ngram2_cnts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[[</span><span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
                                    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngrams</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
        <span class="n">ngram3</span><span class="p">,</span> <span class="n">ngram3_cnts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[[</span><span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
                                    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngrams</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
        <span class="n">ngram2</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ngram2</span><span class="p">)</span>
        <span class="n">ngram2_cnts</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ngram2_cnts</span><span class="p">)</span>
        <span class="n">ngram3</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ngram3</span><span class="p">)</span>
        <span class="n">ngram3_cnts</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ngram3_cnts</span><span class="p">)</span>
        <span class="c1"># create inner Frames for ngrams header</span>
        <span class="n">headerFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">graphFrInn0</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">headerFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="n">head_msg</span> <span class="o">=</span> <span class="s2">&quot;Top 10 words, 2-grams, 3-grams and their counts&quot;</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">headerFr</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">head_msg</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># for top5 ngrams</span>
        <span class="n">ngramFrInn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># for ngram2</span>
        <span class="n">ngramFrInn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn3</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># for ngram3</span>
        <span class="n">ngramFrInn4</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn4</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn5</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ngramsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">ngramFrInn5</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># inserting ngram counts</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">top5</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">top5_cnts</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn2</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">ngram2</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn3</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">ngram2_cnts</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn4</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">ngram3</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ngramFrInn5</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">ngram3_cnts</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="c1"># update and reset window size, tkinter will adjust</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">minsize</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>  <span class="c1"># FIX: limit max size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="c1"># limit max size using current</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">winfo_geometry</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">maxsize</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">))</span></div>

<div class="viewcode-block" id="NNSearch.mk_graphs_win"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.mk_graphs_win">[docs]</a>    <span class="k">def</span> <span class="nf">mk_graphs_win</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if graphs have already been calculated.</span>
<span class="sd">        Create necessary UI elements that will contain the plots and stats.</span>
<span class="sd">        Start a separate thread to create plots and calculate word/ngram</span>
<span class="sd">        counts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create a Toplevel first, we will update it later</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats2.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Graphs&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphs_ready</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">waitFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">waitFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
            <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">waitFr</span><span class="p">,</span>
                      <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 12&#39;</span><span class="p">,</span>
                      <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Wait... Creating plots...&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_img</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;cup.png&#39;</span><span class="p">))</span>
            <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">waitFr</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wait_img</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">()</span>
            <span class="n">tags_dic</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">((</span><span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">tup</span>
                                <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tags</span><span class="p">))</span>
            <span class="c1"># now handle the Process button command</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_thread</span> <span class="o">=</span> <span class="n">thr</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">get_graphs_data</span><span class="p">,</span>
                                            <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="p">,</span> <span class="n">tags_dic</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">current_fname</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="c1"># check if model_thread finished</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_graphs_thread_save_results</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span>
                                     <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;Please click &quot;Process!&quot; button&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span>
                                         <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;No data provided!&#39;</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># self.graphs_win.resizable(0, 0)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graphs_win</span><span class="o">.</span><span class="n">minsize</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">finish_graphs_window</span><span class="p">()</span></div>

<div class="viewcode-block" id="NNSearch.check_search_stats_thread_save_results"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.check_search_stats_thread_save_results">[docs]</a>    <span class="k">def</span> <span class="nf">check_search_stats_thread_save_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check every 10ms if model thread is alive.</span>
<span class="sd">        While displaying waiting label in Toplevel.</span>
<span class="sd">        Unlock UI widgets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win_butt</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sstats_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_search_stats_thread_save_results</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="c1"># get the results of model processing</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="c1"># centering window position</span>
            <span class="c1"># update the information to calculated stats</span>
            <span class="n">tmatched</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Tokens matched&#39;</span><span class="p">)</span>
            <span class="n">mlength</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Matched length&#39;</span><span class="p">)</span>
            <span class="n">mlratio</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Matched length ratio&#39;</span><span class="p">)</span>
            <span class="n">sstats_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ss_rlabl</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tmatched</span><span class="p">,</span> <span class="n">mlength</span><span class="p">,</span> <span class="n">mlratio</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_search_stats_ready</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win_butt</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ss_rtext</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sstats_text</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.show_search_stats_win"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.show_search_stats_win">[docs]</a>    <span class="k">def</span> <span class="nf">show_search_stats_win</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show a window with statistics for a query search.</span>
<span class="sd">        Search stats:</span>
<span class="sd">            number of matched terms</span>
<span class="sd">            length of all matched strings</span>
<span class="sd">            % of matched data to all search corpus</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">matches</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Please provide a search query!&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># handle exceptions</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">sstats_ready</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">()</span>
            <span class="c1"># now handle the Process button command</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats_thread</span> <span class="o">=</span> <span class="n">thr</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">get_search_stats</span><span class="p">,</span>
                                            <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_queue</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">matches</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats_thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">sstats</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Tokens matched&#39;</span><span class="p">,</span> <span class="s1">&#39;Matched length&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;Matched length ratio&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">stat</span><span class="p">,</span> <span class="s1">&#39;Wait...&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">sstats</span><span class="p">)</span>
            <span class="c1"># check if model_thread finished</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_search_stats_thread_save_results</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()</span> <span class="ow">or</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;Please click &quot;Process!&quot; button&#39;</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">()</span> <span class="ow">and</span>
                                     <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="s1">&#39;No data provided!&#39;</span><span class="p">,</span> <span class="s1">&#39;error.png&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">ss_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ss_rlabl</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Tokens matched&#39;</span><span class="p">),</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Matched length&#39;</span><span class="p">),</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">sstats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Matched length ratio&#39;</span><span class="p">))</span>
        <span class="c1"># build a Toplevel window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats3.png&#39;</span><span class="p">))</span>
        <span class="c1"># centering window position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Search statistics&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                  <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFr</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstatsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                      <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstatsFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                      <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="n">ss_llabl</span> <span class="o">=</span> <span class="s1">&#39;Tokens matched:</span><span class="se">\n</span><span class="s1">Matched length:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>\
                   <span class="s1">&#39;Matched length / full text [0,1]:</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ss_ltext</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn1</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                                  <span class="n">text</span><span class="o">=</span><span class="n">ss_llabl</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ss_ltext</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ss_rtext</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstatsFrInn2</span><span class="p">,</span>
                                  <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                                  <span class="n">text</span><span class="o">=</span><span class="n">ss_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ss_rtext</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstatsFr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                                          <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_win_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sstats_win</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.prepare_view1"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.prepare_view1">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_view1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare text for various text views.</span>
<span class="sd">        &lt;Just a separate method that formats text accrodingly for each view.&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># prepare for view1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1_text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">normalize_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">raw</span><span class="p">)</span>

        <span class="c1"># prepare for view1 with POS-tags</span>
        <span class="n">view1_text_pos</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
            <span class="n">view1_text_pos</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">view1_text_pos</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1_text_pos</span> <span class="o">=</span> <span class="n">view1_text_pos</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.prepare_view2"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.prepare_view2">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_view2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matched</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare text for various text views.</span>
<span class="sd">        &lt;Just a separate method that formats text accrodingly for each view.&gt;</span>

<span class="sd">        Args:</span>
<span class="sd">            | *matched* -- dict of matched tokens</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># show a warning because view2 depends on matched terms</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">matched</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Please provide a search query!&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># prepare for view2</span>
        <span class="c1"># first see which sent has query matches and include only those</span>
        <span class="n">matched_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">sent_id</span> <span class="k">for</span> <span class="n">sent_id</span> <span class="ow">in</span> <span class="n">matched</span>
                       <span class="k">for</span> <span class="n">tokens</span> <span class="ow">in</span> <span class="n">matched</span><span class="p">[</span><span class="n">sent_id</span><span class="p">]</span> <span class="k">if</span> <span class="n">tokens</span><span class="p">]</span>
        <span class="n">view2_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">sent_id</span><span class="p">,</span> <span class="n">sent_lst</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">sent_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">matched_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">sent</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">sent_lst</span><span class="p">])</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;: &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">sent</span><span class="p">])</span>
            <span class="n">view2_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">view2_text</span><span class="p">,</span> <span class="n">text</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2_text</span> <span class="o">=</span> <span class="n">view2_text</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>   <span class="c1"># remove first \n\n</span>
        <span class="c1"># prepare for view2 with POS-tags</span>
        <span class="n">view2_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">sent_id</span><span class="p">,</span> <span class="n">sent_lst</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">sent_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">matched_ids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">sent</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">token</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                             <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">sent_lst</span><span class="p">])</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;: &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">sent_id</span><span class="p">),</span> <span class="n">sent</span><span class="p">])</span>
            <span class="n">view2_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">view2_text</span><span class="p">,</span> <span class="n">text</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2_text_pos</span> <span class="o">=</span> <span class="n">view2_text</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.prepare_view3"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.prepare_view3">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_view3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matched</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepare text for various text views.</span>
<span class="sd">        &lt;Just a separate method that formats text accrodingly for each view.&gt;</span>

<span class="sd">        Args:</span>
<span class="sd">            | *matched* -- Ordereddict of matched tokens</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># show a warning because view2 depends on matched terms</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">matched</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Please provide a search query!&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_message</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;warning.png&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># prepare text for view3, plain and with pos-tags</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">view3_plain</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">view3_pos</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sent_lst</span> <span class="ow">in</span> <span class="n">matched</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tokens</span> <span class="ow">in</span> <span class="n">sent_lst</span><span class="p">:</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="c1"># plain</span>
                <span class="n">view3_plain</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">cnt</span><span class="p">),</span>
                                              <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">token</span>
                                                        <span class="ow">in</span> <span class="n">tokens</span><span class="p">])]))</span>
                <span class="c1"># pos-tags included</span>
                <span class="n">view3_pos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">cnt</span><span class="p">),</span>
                                            <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                                <span class="n">token</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                                                      <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">])]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">view3_text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">view3_plain</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">view3_text_pos</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">view3_pos</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.highlighter"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.highlighter">[docs]</a>    <span class="k">def</span> <span class="nf">highlighter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matched</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reload Text field view.</span>
<span class="sd">        Invoke marker, which finds matched string occurrences and returns</span>
<span class="sd">        indeces for Tkinter tags.</span>
<span class="sd">        Highlight strings tagged by Tkinter according to view type.</span>

<span class="sd">        Args:</span>
<span class="sd">            *matched* -- dict of matched results</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pos_tags</span><span class="p">,</span> <span class="n">text_view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_opts</span><span class="p">()</span>
        <span class="c1"># if no matched results and view is 2 or 3, don&#39;t do anything</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">matched</span> <span class="ow">and</span> <span class="n">text_view</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="c1"># reset highighting</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_delete</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span>
        <span class="c1"># reload text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>  <span class="c1"># remove text</span>
        <span class="k">if</span> <span class="n">text_view</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pos_tags</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view1_text_pos</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view1_text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matched</span><span class="p">:</span>
                <span class="c1"># find matched token indeces for Tkinter to tag</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">marker</span><span class="p">(</span><span class="n">matched</span><span class="p">,</span> <span class="n">pos_tags</span><span class="p">)</span>
                <span class="c1"># highlight</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_configure</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span>
                                        <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#C0FA82&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">text_view</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pos_tags</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view2_text_pos</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view2_text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matched</span><span class="p">:</span>
                <span class="c1"># find matched token indeces for Tkinter to tag</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">marker</span><span class="p">(</span><span class="n">matched</span><span class="p">,</span> <span class="n">pos_tags</span><span class="p">)</span>
                <span class="c1"># highlight</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_configure</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span>
                                        <span class="n">background</span><span class="o">=</span><span class="s2">&quot;#BCFC77&quot;</span><span class="p">,</span>
                                        <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">text_view</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pos_tags</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view3_text_pos</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view3_text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">matched</span><span class="p">:</span>
                <span class="c1"># find matched tokens indeces for Tkinter to tag</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">marker</span><span class="p">(</span><span class="n">matched</span><span class="p">,</span> <span class="n">pos_tags</span><span class="p">)</span>
                <span class="c1"># highlight</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_configure</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 11 bold&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.marker"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.marker">[docs]</a>    <span class="k">def</span> <span class="nf">marker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matched</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find all matches occurences in the text and return their start and end</span>
<span class="sd">        indeces converted for Tkinter.</span>

<span class="sd">        Args:</span>
<span class="sd">            | *matched* -- dict of matched results</span>
<span class="sd">            | *pos* -- True if add POS-tags</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The house is black and the house is green. There is a house in the city.</span>
        <span class="n">sents_matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">toks</span> <span class="k">for</span> <span class="n">sent_lst</span> <span class="ow">in</span> <span class="n">matched</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                         <span class="k">for</span> <span class="n">toks</span> <span class="ow">in</span> <span class="n">sent_lst</span><span class="p">]</span>
        <span class="c1"># use python re to get the match indeces instead of Text.search</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="n">sents</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)]</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">sent</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sents</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">tokens</span> <span class="ow">in</span> <span class="n">sents_matches</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">tokens</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">pos</span><span class="p">:</span>
                    <span class="n">matched_str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">tok</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">matched_str</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">tok</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tok</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                                            <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">])</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">handle_punct</span><span class="p">(</span><span class="n">matched_str</span><span class="p">)</span>
                <span class="n">isfound</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">sent</span><span class="p">[</span><span class="n">start</span><span class="p">:])</span>
                <span class="k">if</span> <span class="n">isfound</span><span class="p">:</span>
                    <span class="n">matched</span> <span class="o">=</span> <span class="n">fnode</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">isfound</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">+</span> <span class="n">start</span><span class="p">,</span>
                                    <span class="n">isfound</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="o">+</span> <span class="n">start</span><span class="p">)</span>
                    <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matched</span><span class="p">)</span>
                    <span class="n">start</span> <span class="o">+=</span> <span class="n">isfound</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">start_mark</span><span class="p">,</span> <span class="n">end_mark</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">tag_add</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="n">start_mark</span><span class="p">,</span> <span class="n">end_mark</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.show_about"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.show_about">[docs]</a>    <span class="k">def</span> <span class="nf">show_about</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display About window</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">about</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nn-search v.2.0.0&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;Built with nltk, TextBlob and matplotlib&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;tastyminerals@gmail.com &#39;</span><span class="p">]</span>
        <span class="n">about_win</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="n">about_win</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">)</span>
        <span class="c1"># set custom window icon</span>
        <span class="n">set_win_icon</span><span class="p">(</span><span class="n">about_win</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;info.png&#39;</span><span class="p">))</span>
        <span class="n">about_win</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1"># creating Frames for headers</span>
        <span class="n">aboutFr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">about_win</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">aboutFr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">aboutFrInn0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">aboutFr</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">aboutFrInn0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># inserting Labels</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">aboutFrInn0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">about</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nn_icon</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;nn-search.png&#39;</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">aboutFrInn0</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nn_icon</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">aboutFrInn0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKFONT</span><span class="p">,</span>
                  <span class="n">text</span><span class="o">=</span><span class="n">about</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">about</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">email_str</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="n">email_str</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">contact</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">aboutFrInn0</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;readonly&#39;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span>
                           <span class="n">fg</span><span class="o">=</span><span class="s1">&#39;#0000FF&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">email_str</span><span class="p">)</span>
        <span class="n">contact</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">about_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">aboutFr</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
                                <span class="n">command</span><span class="o">=</span><span class="n">about_win</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
        <span class="n">about_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centrify_widget</span><span class="p">(</span><span class="n">about_win</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_build_gui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create user interface including all necessary components like Frames,</span>
<span class="sd">        Buttons, Labels etc.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">put_resizable</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">colspan</span><span class="p">,</span> <span class="n">rowspan</span><span class="p">,</span> <span class="n">stick</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Place the element and make it resizable.</span>

<span class="sd">            Args:</span>
<span class="sd">                | *elem* (ttk Object) -- ttk Object instance</span>
<span class="sd">                | *row* (int) -- row on which the element is placed</span>
<span class="sd">                | *col* (int) -- col on which the elemnt is placed</span>
<span class="sd">                | *colspan* (int) -- how many columns are allowed to span</span>
<span class="sd">                | *rowspan* (int) -- how many rows are allowed to span</span>
<span class="sd">                | *stick* (str) -- element alignment within the cell</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="n">rowspan</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="n">colspan</span><span class="p">,</span>
                      <span class="n">sticky</span><span class="o">=</span><span class="n">stick</span><span class="p">)</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">options</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># making main frame which shall contain all widgets and subframes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># do not get hidden</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># make a toolbar menu</span>
        <span class="c1"># make &quot;File&quot; menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu0</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Menubutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span>
                                          <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;below&#39;</span><span class="p">,</span>
                                          <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Menu0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;load.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu0</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;disk.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu0</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_data</span><span class="p">)</span>
        <span class="c1"># self.save2 = itk.PhotoImage(file=self.img_path(&#39;disk2.png&#39;))</span>
        <span class="c1"># self.Menu0.add_command(label=&quot;Save as&quot;, image=self.save2,</span>
        <span class="c1">#                       compound=&#39;left&#39;, command=self.save_data)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;exit.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu0</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exit</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuButton0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">)</span>
        <span class="c1"># make &quot;Edit&quot; menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Menubutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Edit&#39;</span><span class="p">,</span>
                                          <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;below&#39;</span><span class="p">,</span>
                                          <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;copy.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Copy (Ctrl-c)&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ctrl_c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cut</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;cut.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cut (Ctrl-x)&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cut</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ctrl_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paste</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;paste.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Paste (Ctrl-v)&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">paste</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ctrl_v</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">undo</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;undo.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Undo (Ctrl-z)&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">undo</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ctrl_z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redo</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;redo.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu1</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Redo (Ctrl-u)&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">redo</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ctrl_u</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuButton1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">)</span>
        <span class="c1"># make &quot;Tools&quot; menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu2</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Menubutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Tools&#39;</span><span class="p">,</span>
                                          <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;below&#39;</span><span class="p">,</span>
                                          <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Menu2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tagger</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;wand.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu2</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;POS-tagger&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tagger</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_tagger_win</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuButton2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">)</span>
        <span class="c1"># make &quot;Help&quot; menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu3</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton3</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Menubutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuFrm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Help&#39;</span><span class="p">,</span>
                                          <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;below&#39;</span><span class="p">,</span>
                                          <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Menu3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;help.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu3</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Help&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                               <span class="n">command</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">about</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;info.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu3</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;POS-tags&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">about</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_tags_long</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Menu3</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;About&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">about</span><span class="p">,</span>
                               <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_about</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MenuButton3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">)</span>
        <span class="c1"># make a frame for query input widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">EntryFrm</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">EntryFrm</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="c1"># make entry widget inside entry frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">EntryFrm</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 12&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-a&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-d&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-z&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-u&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_u</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">press_return</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-r&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_r</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Entry</span><span class="o">.</span><span class="n">focus</span><span class="p">()</span>  <span class="c1"># &lt;Return&gt; enable when entry widget in focus</span>
        <span class="c1"># make search button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">search</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;search.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">search_butt</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">EntryFrm</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
                                     <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Search&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">,</span>
                                     <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                     <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">press_return</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">search_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="c1"># make text frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TextFrm</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">TextFrm</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="c1"># make text widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">TextFrm</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">TKTEXT_FONT</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span>
                            <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                            <span class="n">undo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">takefocus</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-a&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-d&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-s&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_s</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-z&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-u&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_u</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Control-r&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctrl_r</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">edit_modified</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># set Text widget -- not modified</span>
        <span class="c1"># make a scrollbar for text widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">TextFrm</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">yscrollcommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ens&#39;</span><span class="p">)</span>
        <span class="c1"># make the right frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Main</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">)</span>
        <span class="c1"># make inner frame that will contain &quot;Load&quot;, &quot;Save&quot; buttons.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                        <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;new&#39;</span><span class="p">)</span>
        <span class="c1"># add a label for &quot;Load&quot;, &quot;Save&quot; frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span><span class="p">,</span>
                              <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                              <span class="n">text</span><span class="o">=</span><span class="s1">&#39;File operations&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flab</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># make &quot;Load&quot;, &quot;Process&quot; and &quot;Save&quot; buttons for right frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Load&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">,</span>
                                    <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proimg</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;proc.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proc_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                                    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process!&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">proimg</span><span class="p">,</span>
                                    <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proc_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm0</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">,</span>
                                    <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># make inner frame that will contain view types</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                        <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nwe&#39;</span><span class="p">)</span>
        <span class="c1"># make view widgets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span>
                              <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                              <span class="n">text</span><span class="o">=</span><span class="s1">&#39;View mode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vlab</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_opts</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;view1.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1Radio</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view1</span><span class="p">,</span>
                                          <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view_opts</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1Radio</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view1Radio</span><span class="o">.</span><span class="n">invoke</span><span class="p">()</span>  <span class="c1"># make active by default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;view2.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2Radio</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view2</span><span class="p">,</span>
                                          <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view_opts</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view2Radio</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view3</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;view3.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view3Radio</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view3</span><span class="p">,</span>
                                          <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view_opts</span><span class="p">,</span>
                                          <span class="n">value</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view3Radio</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="c1"># make show POS-rags button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_tags</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags_butt</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;POS-tags&#39;</span><span class="p">,</span>
                                         <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                         <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_tags</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags_butt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="c1"># make inner frame that will contain back and stats buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                        <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;we&#39;</span><span class="p">)</span>
        <span class="c1"># add text statistics label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span><span class="p">,</span>
                              <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">,</span>
                              <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Statistics&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slab</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># make &quot;Stats&quot; buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simg1</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                      <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Numbers&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">simg1</span><span class="p">,</span>
                                      <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_nums_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">simg2</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats2.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                      <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Graphs&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">simg2</span><span class="p">,</span>
                                      <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mk_graphs_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simg3</span> <span class="o">=</span> <span class="n">itk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="nb">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">img_path</span><span class="p">(</span><span class="s1">&#39;stats3.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt3</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                                      <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Search stats&#39;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">simg3</span><span class="p">,</span>
                                      <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_search_stats_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nwe&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># make inner frame that will contain file information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm3</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RightFrm</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                        <span class="n">relief</span><span class="o">=</span><span class="s1">&#39;groove&#39;</span><span class="p">)</span>
        <span class="n">put_resizable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="c1"># make file info labels</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Data source&#39;</span><span class="p">,</span>
                               <span class="n">font</span><span class="o">=</span><span class="s1">&#39;TkDefaultFont 10 bold&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats0</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Name: not loaded&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats1</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InnerRightFrm3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Size: not loaded&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="NNSearch.lock_ui"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.lock_ui">[docs]</a>    <span class="k">def</span> <span class="nf">lock_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lock all UI clickable widgets when background operations are running.</span>

<span class="sd">        Args:</span>
<span class="sd">            *lock* (bool) -- disable widgets if True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton0</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view1Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view2Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view3Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tags_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">search_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proc_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton0</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MenuButton3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view1Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view2Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view3Radio</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tags_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">search_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proc_butt</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt1</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt2</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stats_butt3</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.lock_toplevel"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.lock_toplevel">[docs]</a>    <span class="k">def</span> <span class="nf">lock_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toplevel_win_widget</span><span class="p">,</span> <span class="n">lock</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lock Toplevel widgets in order to prevent a user from closing it.</span>

<span class="sd">        Args:</span>
<span class="sd">            |*toplevel_win_widget* (ttk.Button) -- Toplevel Button widget</span>
<span class="sd">            |*lock* (bool) -- disable widgets if True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lock</span><span class="p">:</span>
            <span class="n">toplevel_win_widget</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">toplevel_win_widget</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.clean_up"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.clean_up">[docs]</a>    <span class="k">def</span> <span class="nf">clean_up</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove all plot files in &#39;_graphs&#39; dir upon initialization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s1">&#39;_graphs&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">IOError</span><span class="p">):</span>
            <span class="k">print</span> <span class="s2">&quot;WARNING: Cannot remove &#39;_graphs&#39; directory!&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s1">&#39;_graphs&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">IOError</span><span class="p">):</span>
            <span class="k">print</span> <span class="s2">&quot;WARNING: Cannot create &#39;_graphs&#39; directory!&quot;</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.get_opts"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.get_opts">[docs]</a>    <span class="k">def</span> <span class="nf">get_opts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return UI selected widget values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_tags</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_opts</span><span class="o">.</span><span class="n">get</span><span class="p">()</span></div>

<div class="viewcode-block" id="NNSearch.img_path"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.img_path">[docs]</a>    <span class="k">def</span> <span class="nf">img_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icon_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a full path with an icon name.</span>

<span class="sd">        Args:</span>
<span class="sd">            *icon_name* (str) -- icon name</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;icons&#39;</span><span class="p">,</span> <span class="n">icon_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="NNSearch.set_stats_ready"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.set_stats_ready">[docs]</a>    <span class="k">def</span> <span class="nf">set_stats_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter/Setter for self.stats_ready var</span>

<span class="sd">        Args:</span>
<span class="sd">            *state* (bool) -- True, if text statistics was calculated</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_ready</span> <span class="o">=</span> <span class="n">state</span></div>

<div class="viewcode-block" id="NNSearch.set_graphs_ready"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.set_graphs_ready">[docs]</a>    <span class="k">def</span> <span class="nf">set_graphs_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter/Setter for self.graphs_ready var</span>

<span class="sd">        Args:</span>
<span class="sd">            *state* (bool) -- True, if graphs were plotted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs_ready</span> <span class="o">=</span> <span class="n">state</span></div>

<div class="viewcode-block" id="NNSearch.set_search_stats_ready"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.set_search_stats_ready">[docs]</a>    <span class="k">def</span> <span class="nf">set_search_stats_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter/Setter for self.graphs_ready var</span>

<span class="sd">        Args:</span>
<span class="sd">            *state* (bool) -- True, if graphs were plotted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sstats_ready</span> <span class="o">=</span> <span class="n">state</span></div>

<div class="viewcode-block" id="NNSearch.set_file_loaded"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.set_file_loaded">[docs]</a>    <span class="k">def</span> <span class="nf">set_file_loaded</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter/Setter for self.is_file_loaded var</span>

<span class="sd">        Args:</span>
<span class="sd">            *state* (bool) -- True, if file was loaded</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_file_loaded</span> <span class="o">=</span> <span class="n">state</span></div>

<div class="viewcode-block" id="NNSearch.set_processed"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.NNSearch.set_processed">[docs]</a>    <span class="k">def</span> <span class="nf">set_processed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter/Setter for self.processed var</span>

<span class="sd">        Args:</span>
<span class="sd">            *state* (bool) -- True, if &#39;Processed!&#39; was clicked</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processed</span> <span class="o">=</span> <span class="n">state</span></div></div>


<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../nn_search2.html#nn_search2.nn_search2.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;nn-search2&#39;</span><span class="p">)</span>
    <span class="c1"># set a custom window icon</span>
    <span class="n">win_icon_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;icons&#39;</span><span class="p">,</span> <span class="s1">&#39;nn-search.ico&#39;</span><span class="p">)</span>
    <span class="n">set_win_icon</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">win_icon_path</span><span class="p">)</span>
    <span class="c1"># root.geometry(&quot;1000x630&quot;)  # gui size at startup</span>
    <span class="n">root</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="c1"># ttk_theme = ttk.Style()</span>
    <span class="c1"># you can use ttk themes here (&#39;clam&#39;, &#39;alt&#39;, &#39;classic&#39;, &#39;default&#39;)</span>
    <span class="c1"># ttk_theme.theme_use(&#39;clam&#39;)</span>
    <span class="n">gui</span> <span class="o">=</span> <span class="n">NNSearch</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">gui</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span></div>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, tastyminerals.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>